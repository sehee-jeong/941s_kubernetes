<html th:replace="~{contentBase :: flexiblelayout(~{::contentBody}, ~{::title})}" xmlns:th="http://www.thymeleaf.org">
<title>New Service</title>

<contentBody>
  <div class="container">
    <form action="/customer/deploy" th:object="${form}" method="POST" class="row needs-validation text-center" novalidate>

      <!-- Github주소 -->
      <div class="row mt-3">
        <label for="githubInput" class="col-lg-3 col-form-label">Github 주소를 입력하세요.</label>
        <div class="col-lg-6">
          <input type="url" class="form-control" id="githubInput" th:field="*{githubUrl}" pattern="^https:\/\/github\.com\/.*$" placeholder="https://github.com/~" required>
          <div class="invalid-feedback">
            Please enter a valid GitHub URL starting with "https://github.com/".
          </div>
        </div>
      </div>

      <!-- 서비스 이름 -->
      <div class="row mt-3">
        <label for="validationDefault02" class="col-lg-3 col-form-label">Service Name</label>
        <div class="col-lg-6">
          <input type="text" class="form-control" id="validationDefault02" th:field="*{serviceName}" pattern="^[a-z0-9]*$" placeholder="My Project Example" required>
          <div class="invalid-feedback">
            Please enter only lowercase English letters and numbers.
          </div>
        </div>
      </div>

      <!-- 서비스 포트 -->
      <div class="row mt-3">
        <label for="portInput" class="col-lg-3 col-form-label">Port</label>
        <div class="col-lg-6">
          <input type="number" class="form-control" id="portInput" th:field="*{innerPort}" min="1024" max="49151" placeholder="1024" required>
          <div class="invalid-feedback">
            Please enter a valid number between 1024 and 49151.
          </div>
        </div>
      </div>

      <!-- 환경변수 -->
      <div id="envKVP" class="row mt-3 mx-0">
        <div class="row">
          <label class="col-lg-3 col-form-label mt-auto">Environment</label>
          <div id="envKey" class="col-5 col-lg-3">
            <label class="form-label">Key</label>
            <input type="text" class="form-control" name="keys" placeholder="key">
          </div>
          <div id="envValue" class="col-5 col-lg-3">
            <label class="form-label">Value</label>
            <input type="text" class="form-control" name="values" placeholder="value">
          </div>
          <div class="col-1 d-grid mt-auto">
            <button id="addEnv" class="btn btn-light btn-outline-secondary mb-auto shadow-sm" type="button">
              <span class="">+</span>
            </button>
          </div>
          <div class="col-1 d-grid mt-auto">
            <button id="delEnv" class="btn btn-light btn-outline-secondary mb-auto shadow-sm" type="button">
              <span class="text-danger">-</span>
            </button>
          </div>
        </div>
      </div>


      <div class="col-3 d-grid mx-auto mt-3">
        <button class="btn btn-light btn-outline-secondary shadow-sm" type="submit"> Submit </button>
      </div>

    </form>
  </div>
</contentBody>